<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>تصحيحات وترقية الصياغة العربيّة</title>
<style>
  body { background:#fafafa; color:#222; margin:0; }
  .paper { max-width: 880px; margin: 2.2rem auto; padding: 0 1rem 2rem; font-family: "Amiri", "Scheherazade New", serif; line-height: 1.95; font-size: 1.08rem; }
  h2, h3 { font-weight: 700; margin: 1.6rem 0 0.6rem; }
  h2 { font-size: 1.55rem; }
  h3 { font-size: 1.25rem; }
  p { text-align: justify; margin: 0.6rem 0; }
  .section { background:#fff; border: 1px solid #e8e8e8; border-radius: 8px; padding: 1.2rem 1.1rem; margin-bottom: 1rem; }
  .note { color:#444; font-size:0.95rem; }
</style>
</head>
<body>
  <main class="paper">
    
    <section class="section">
      <h3>مُتَّجِهات التوجيه والتنشيط</h3>
      <p>
        لكل سلوك <span class="math inline">\(z\)</span> ولكل طبقة <span class="math inline">\(\ell\)</span> من الشبكة، نُعرِّف مُتَّجَه التوجيه <span class="math inline">\(\Vec{act}_{\ell}\)</span> بأخذ الفرق بين متوسّط مُتَّجَه التنشيط الخاص بالنموذج عند موضع رمز الإجابة للردود المُطابقة للسلوك <span class="math inline">\(\mathbb{E}[\mathbf{h}_{\ell}\,|\, z]\)</span> ونظيره للردود <em>غير</em> المطابقة للسلوك <span class="math inline">\(\mathbb{E}[\mathbf{h}_{\ell}\,|\, \neg z]\)</span>. أمّا في الشبكات العصبيّة المُتكرِّرة، فيمكن تطبيق الإجراء نفسه على الحالة، مُنتِجًا <span class="math inline">\(\Vec{state}_{\ell}\)</span>:
      </p>
      <p><span class="math display">\[
\begin{aligned}
    \Vec{act}_{\ell}   &= \mathbb{E}\big[\mathbf{h}_{\ell}\,\big|\, z\big] - \mathbb{E}\big[\mathbf{h}_{\ell}\,\big|\, \neg z\big], \\
    \Vec{state}_{\ell} &= \mathbb{E}\big[\mathbf{s}_{\ell}\,\big|\, z\big] - \mathbb{E}\big[\mathbf{s}_{\ell}\,\big|\, \neg z\big].
\end{aligned}
\]</span></p>
    </section>

    <section class="section">
      <h3>ديناميات مسار البواقي وعدسة اللوجيت</h3>
      <p>
        تُحدِّث الطبقة ذات الفهرس <span class="math inline">\(\ell\)</span> في المُحوِّل الحالةَ الخفيّة كما يلي: <span class="math inline">\(\mathbf{h}_{\ell+1} = \mathbf{h}_{\ell} + F_{\ell}(\mathbf{h}_{\ell})\)</span>. يمكننا كتابة اللوجيت الناتج دالّةً في الحالة الخفيّة <span class="math inline">\(\mathbf{h}_{\ell}\)</span> في الطبقة <span class="math inline">\(\ell\)</span> على النحو الآتي:
      </p>
      <p><span class="math display">\[
f(\mathbf{h}_{\ell}) = \mathrm{LayerNorm}\!\left[\underbrace{\mathbf{h}_{\ell}}_{\text{الحالة الحاليّة}} + \sum_{\ell'=\ell}^{L} \underbrace{F_{\ell'}(\mathbf{h}_{\ell'})}_{\text{التحديثات المُتبقّية}}\right] W_U,
\]</span></p>
      <p>
        حيث <span class="math inline">\(L\)</span> هو العدد الإجماليّ للطبقات في المُحوِّل، و<span class="math inline">\(W_U\)</span> هي مصفوفة فكّ التضمين. وتتكوّن عدسة اللوجيت ببساطة من تصفير مساهمة التحديثات المُتبقّية:
      </p>
      <p><span class="math display">\[
\mathrm{LogitLens}(\mathbf{h}_{\ell}) = \mathrm{LayerNorm}\big[\mathbf{h}_{\ell}\big]\, W_U.
\]</span></p>
    </section>

    <section class="section">
      <h3>العدسة المُضبَّطة (Tuned Lens)</h3>
      <p>
        صُمِّمَت العدسة المُضبَّطة لتجاوز بعض المشكلات الكامنة في عدسة اللوجيت. وبدلًا من استخدام قيم مسار البواقي مباشرةً، تُدرَّب مجموعة من التحويلات التقريبيّة، واحدة لكل طبقة، بحيث يُشابِه توزيعُ الرمز المتوقَّع في أيّ طبقة التوزيعَ في الطبقة النهائيّة:
      </p>
      <p><span class="math display">\[
\mathrm{TunedLens}_{\ell}(\mathbf{h}_{\ell}) = \mathrm{LogitLens}\!\big(A_{\ell}\,\mathbf{h}_{\ell} + \mathbf{b}_{\ell}\big),
\]</span> ويُطلق على التحويل التقريبيّ <span class="math inline">\((A_{\ell}, \mathbf{b}_{\ell})\)</span> اسم <em>المُترجِم</em>.</p>
    </section>

    <section class="section">
      <h3>كشف الشذوذ بمسافة ماهالانوبية</h3>
      <p>
        كتجربة منفصلة، نُشيِّد مُتَّجَه ميزات لكل مثال عبر ضمّ مخرجات المِسبار (فروق اللوجيت) من جميع الطبقات. ثم نُلائم توزيعًا غاوسيًّا <span class="math inline">\(P := \mathcal{N}(\boldsymbol{\mu}, \boldsymbol{\Sigma})\)</span> على تنشيطات «أليس» السهلة، ونستخدم المسافة الماهالانوبية <span class="math inline">\(d(\boldsymbol{x}, P) = \sqrt{(\boldsymbol{x} - \boldsymbol{\mu})^{\mathsf{T}} \boldsymbol{\Sigma}^{-1} (\boldsymbol{x} - \boldsymbol{\mu})}\)</span> للنقطة <span class="math inline">\(\boldsymbol{x}\)</span> نسبةً إلى هذا التوزيع درجةً لكشف الشذوذ. ونُقيِّم مقياس AUROC لتمييز أمثلة «أليس» الصعبة من أمثلة «بوب» الصعبة.
      </p>
    </section>

    <p class="note">ملاحظة: حوفِظ على تراكيب LaTeX كما هي مع تصحيح الرمز <span class="math inline">\(\mathbb{E}\)</span> للتوقّعات، وتخفيف الصياغة لتكون أدقّ علميًّا وأسلس عربيًّا.</p>
  
  </main>
</body>
</html>