<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8">
  <meta name="generator" content="pandoc">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
  <meta name="author" content="Eyoel Gebre, Krishna Saxena, Timothy Tran">
  <title>مِلْء الفراغات (a diffusion-based image inpainting pipeline)</title>
  <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_CHTML-full" type="text/javascript"></script>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap');
    body {
      direction: rtl;
      font-family: 'Cairo', 'Segoe UI', 'Tahoma', 'Geneva', 'Verdana', sans-serif;
      font-size: 22px;
      background: #f8f9fa;
      color: #222;
      margin: 0;
      padding: 0;
      line-height: 1.7;
    }
    header {
      background: linear-gradient(90deg, #e0e7ef 0%, #f8fafc 100%);
      padding: 2.5rem 0 1.5rem 0;
      text-align: center;
      border-bottom: 2px solid #e3e3e3;
      margin-bottom: 2rem;
    }
    h1.title {
      font-size: 2.5rem;
      font-weight: 700;
      color: #1a237e;
      margin-bottom: 0.5rem;
      letter-spacing: 0.02em;
    }
    .author {
      font-size: 1.2rem;
      color: #374151;
      margin-bottom: 0.5rem;
    }
    h1, h2, h3 {
      color: #1a237e;
      font-weight: 700;
      margin-top: 2.2rem;
      margin-bottom: 1rem;
      line-height: 1.3;
    }
    h1 {
      font-size: 2rem;
      border-bottom: 2px solid #b3c6e0;
      padding-bottom: 0.3rem;
    }
    h2 {
      font-size: 1.4rem;
      border-right: 4px solid #b3c6e0;
      padding-right: 0.7rem;
      margin-top: 1.7rem;
    }
    h3 {
      font-size: 1.1rem;
      color: #2d3a5a;
      margin-top: 1.2rem;
      margin-bottom: 0.7rem;
    }
    p {
      margin: 1.1em 0;
      text-align: justify;
    }
    ul, ol {
      margin: 1em 2em 1em 0;
      padding-right: 2em;
    }
    li {
      margin-bottom: 0.5em;
    }
    code, pre {
      background: #f3f6fa;
      color: #1a237e;
      border-radius: 4px;
      padding: 0.2em 0.4em;
      font-size: 0.95em;
      font-family: 'Cairo', 'Consolas', 'monospace';
    }
    .math.display {
      display: block;
      background: #f3f6fa;
      border-radius: 6px;
      padding: 1em 1.5em;
      margin: 1.5em 0;
      direction: ltr;
      text-align: left;
      overflow-x: auto;
    }
    .math.inline {
      background: #f3f6fa;
      border-radius: 4px;
      padding: 0.1em 0.3em;
      direction: ltr;
      font-size: 0.95em;
    }
    blockquote {
      border-right: 4px solid #b3c6e0;
      background: #f3f6fa;
      margin: 1.5em 0;
      padding: 1em 1.5em;
      color: #2d3a5a;
      border-radius: 6px;
    }
    table {
      border-collapse: collapse;
      width: 100%;
      margin: 1.5em 0;
      background: #fff;
    }
    th, td {
      border: 1px solid #b3c6e0;
      padding: 0.7em 1em;
      text-align: center;
    }
    th {
      background: #e0e7ef;
      color: #1a237e;
    }
    a {
      color: #1976d2;
      text-decoration: none;
      border-bottom: 1px dotted #1976d2;
      transition: border-bottom 0.2s;
    }
    a:hover {
      border-bottom: 1px solid #1976d2;
    }
    .nodecor {
      text-decoration: none !important;
      border-bottom: none !important;
      color: inherit !important;
    }
    section {
      margin-bottom: 2.5rem;
    }
    @media (max-width: 700px) {
      body {
        font-size: 18px;
        padding: 0 0.5em;
      }
      header {
        padding: 1.5rem 0 1rem 0;
      }
      h1.title {
        font-size: 1.5rem;
      }
      h1 {
        font-size: 1.2rem;
      }
      h2 {
        font-size: 1rem;
      }
    }
  </style>
</head>
<body>
<header>
  <h1 class="title">مِلْء الفراغات (<span class="nodecor">a diffusion-based image inpainting pipeline</span>)</h1>
  <p class="author"><span class="nodecor">Eyoel Gebre</span>, <span class="nodecor">Krishna Saxena</span>, <span class="nodecor">Timothy Tran</span></p>
</header>

<main>

<section>
<h1 id="ملخص">مُلَخَّص</h1>
<p>إعادةُ ترميمِ الصور هي عمليّةُ أخذِ صورةٍ وإعادةِ بناءِ الأجزاءِ المفقودة أو المحجوبة عمدًا. وتطبيقاتُ هذا المجال لا حصرَ لها، بما في ذلك استعادةُ الصورِ المتضرِّرة، وتحسينُ جودةِ الصور التي تدهورت نتيجةً لضغطِ البيانات، وإزالةُ العناصر أو النصوص غير المرغوب فيها. لقد أثبتت تقنياتُ ترميمِ الصور الحديثة قُدرتَها على توليد استكمالاتٍ منطقيةٍ للصورِ المُحجَّبة بأقنعة. في هذه الورقة، نستعرض التقدُّم الحاصلَ في تقنيات ترميم الصور ونحلِّل أبرزَ المناهج الرائِدة، مع إبرازِ نقاطِ القوةِ والضعف. كما نسلِّط الضوء على ثغرةٍ حرِجة في النماذج الحالية، تتعلّق بقدرتِها المحدودة على التوجيه والتحكُّم الدقيق في المحتوى المُنتَج. نُبيِّن كذلك لماذا نعتقد أن هذه الخطوة هي التطوّر الطبيعي التالي لأساليب ترميم الصور، ونقدِّم آلياتٍ عدّة لتنفيذ ذلك. أخيرًا، نقوم بتقييم نتائجنا تقييمًا نوعيًّا للتأكّد من إنتاج صورٍ عاليةِ الجودة تُعيد إحياءَ المناطقِ المفقودة بدقّة وفق التوجيهات المقدَّمة.</p>
</section>

<section>
<h1 id="sec:intro">مُقَدِّمَة</h1>

<h2 id="الدافع">الدافِع</h2>
<p>لطالما شكّلت مسألةُ استكمالِ الصور تحدّيًا مهمًّا في مجال الرؤية الحاسوبيّة منذ عقود. إذ تُعدّ هذه العمليّة أساسيةً في تطبيقاتٍ متعدّدة مثل إزالة الأجسام غير المرغوب فيها، واستعادة الصور المتضرّرة، والتحرير، وإعادة التوجيه، وتركيب الصور، والتوليد القائم على الصور. ومع الانتشار الواسع لأدوات الذكاء الاصطناعي التوليدي، نتوقّع أن تشهد تقنياتُ الاستكمال استخدامًا متزايدًا في المجالات الإبداعية أيضًا. فمع أدوات مثل دالي-إي، وتشات جي بي تي، ومِدجورني، وسورا التي أثبتت قيمتَها للمحترفين في المهن الإبداعيّة، نُشاهد كيف تُغيِّر أنظمةُ الذكاء الاصطناعي بشكل جذري هذه الصناعة (تشير تقارير مكتب تحليل الاقتصاد الأمريكي إلى أن الفنون والإنتاج الثقافي يُشكِّلان <span class="nodecor">$1,016,249,142,000$</span> وبنسبة 4.4% من اقتصاد الولايات المتحدة، ويوفّران 4,851,046 وظيفة (NASAA2020)). لذا فإن تحسين تقنيات الاستكمال وتوسيع قدراتِها يمكن أن يُحدِثَ تأثيرًا اقتصاديًّا ملموسًا.</p>

<h2 id="الخلفية">الخَلْفِيَّة</h2>
<p>هناك نهجان رئيسيان لمشكلة الترميم: الاحتمالي والحتمي. تُنتِج الطرقُ الاحتمالية نتائجَ متعدّدة معقولة عبر أخذ عيناتٍ عشوائية، بينما تُولِّد الطرقُ الحتمية نتيجةً واحدة فقط. وأحدُ النهجِ الحتمية الشائعة هو أخذ صورةٍ مع قناعٍ ثنائي يُحدِّد المنطقةَ المرادَ ترميمُها، ثم إدخالُهما في نموذجٍ مُولِّد مثل شبكةِ الخصومةِ التوليدية المدربة على مِلء المنطقة المفقودة. وقد حسّن الباحثون أداءَ المُولِّد عبر آليات الانتباه، ووصلات المُشَفِّر–المُفَكِّك (Skip Connections)، والسابقِ الصُّوريِّ العميق (Deep Image Prior)، والتجميعِ متعدِّدِ المقاييس (quan2024deep). بالمقابل، تتبع تقنياتُ الترميم الاحتمالية، ومنها نماذجُ التدفّق (Flow) والنماذجُ التوليديّة التسلسليّة، نهجًا يبدأ بصورةٍ مُشَوَّشة ويُقلِّل الضوضاء تدريجيًّا حتى الوصول إلى نتيجةٍ معقولة؛ وهي الاستراتيجية التي تعتمد عليها غالبيةُ تقنياتِ الترميم المبنيّة على الانتشار، والتي سنركّز عليها لاحقًا.</p>
</section>

<section>
<h1 id="sec:related">الأعمال ذات الصلة</h1>
<p>كما ذُكر، تتبع استراتيجياتٌ حتميّة عديدة نهجَ إدخال صورٍ من مجموعة بياناتٍ مع أقنعةٍ مُولَّدةٍ من توزيعٍ معيّن، ثم تدريبَ نموذجٍ لملء هذه الأقنعة. مثالٌ على ذلك هو منهج LaMa. خلال التدريب، يأخذ LaMa عيّناتٍ من الصور ويُولِّد لكلٍّ منها قناعًا من توزيعٍ ثابت، ثم يُدرِّب شبكةَ <span class="nodecor">التفاف فورييه</span> للتنبّؤ بما وراء القناع، محقِّقًا نتائج قويّة. لكنّ العيب أن النموذج غالبًا ما يُواجِه صعوبةً في تعميم قدراتِه على أقنعةٍ خارجَ التوزيعِ التدريبي.</p>
<p>الجهدُ الرائد الذي حدّدناه هو ورقةٌ من المعهد التقني في زيورخ بعنوان RePaint (A2). يقترح RePaint سيرًا احتماليًّا مبنيًّا على عمليةِ ماركوف لإضافةِ ضوضاء غاوسيّة إلى الصورةِ المُدخلة، يليه مسارٌ عكسي لإزالةِ الضوضاء من الجزء المُقنَّع. بهذه الطريقة، يتجاوز RePaint الاعتمادَ على توزيعِ أقنعةٍ ثابت عبر استخدام نموذجِ انتشارٍ مُدرَّب مسبقًا لإزالة الضوضاء من بكسلات القناع عشوائيًّا ضمن سياقها المجاور. ولزيادةِ التنوّع الدلالي في المخرجات، اقترح المؤلفون خطوةَ إعادةِ أخذِ العينات (Resampling) خلال المسار العكسي. ففي هذه الخطوة تُضاف ضوضاءُ غاوسيّة مُجدّدًا إلى عيّنةٍ جزئية غير مُشَوَّشة لمرّاتٍ ثابتة، ما يُعزِّز العشوائية ويُحسِّن جودةَ الحدود (انظر القسم [subsec:ResamplingJumping]).</p>
<p>إجمالًا، يركّز RePaint على إزالة الضوضاء من المنطقة المُقنَّعة مع استخدام الجزء غير المُقنَّع من الصورة كمرجع سياقي. وينتج عنه صورٌ تبدو طبيعيةً جدًّا، وقد قُيِّم أعلى من النماذج الحديثة عبر توزيعاتٍ متنوّعة من الأقنعة. كما يمتاز RePaint بمرونةٍ في إدخال عناصرَ إبداعية ضمن المنطقة المُقنَّعة مع الحفاظ على الصحة الدلالية (A2).</p>
<p>ومن سمات RePaint اللافتة أنّه قد يُدخِل أشياءَ عشوائية داخل المناطق المُعاد إنشاؤها. ورغم أن هذه العناصر تبدو طبيعيةً دلاليًّا، قد تكون العشوائيةُ غيرَ مرغوبةٍ في حالات عديدة؛ كإدخالِ سحليةٍ عند إزالة يدٍ بشرية. هدفُنا هو تمكين RePaint من الاحتفاظ بأدائه وصحّته الدلالية مع توفير تحكُّمٍ أكبر في المحتوى المُنتَج داخل المنطقة المُقنَّعة. فالنسخة الحالية من RePaint لا تأخذ في الاعتبار أيّ تفضيلاتٍ حول ما يجب إدخاله، ولا توجد واجهةٌ واضحة لتزويدِه بمعطياتٍ إضافية تُحدِّد ذلك.</p>
<p>لذلك، نهدف إلى توسيع قدرات RePaint بحيث يقبل، إلى جانب الصورة والقناع، معلوماتٍ إضافية عن الهدف المراد إدخاله. الخيارات متنوّعة: وصفٌ نصّي لما ينبغي توليده، صورةُ الهدف المطلوبة، مجموعةُ بياناتٍ من الخيارات المقبولة، وغيرها.</p>
<p>ومن فوائد RePaint أنه يُعدِّل فقط خطوةَ إزالةِ الضوضاء في نموذج الانتشار المُدرَّب مسبقًا، ما يُلغي الحاجةَ إلى تحضير بياناتٍ جديدة أو إعادةِ تدريبِ النموذج. هذا يُسهِّل تجربةَ خياراتٍ مختلفة لتحديد جسمِ الهدف المفضّل. سنبدأ بتقييم أداء RePaint عند تزويدِه بصورةٍ واحدة للهدف المراد إدخاله في القناع، عبر حقنِها في خطوةِ إزالةِ الضوضاء على نحوٍ مماثلٍ لاستخدام المرجع في المنطقة غير المُقنَّعة الأصلية. باختصار، سنُنشئ خطَّ أنابيبٍ جديدًا يستقبل ثلاث مدخلات (الخلفية، والقناع، وصورةَ الهدف)، ويُعالجُها لإنتاج صورةٍ موحَّدة كما هو مُبيَّن في القسم [subsec:CorePipeline].</p>
</section>

<section>
<h1 id="الطريقة">الطَّرِيقَة</h1>
<p>تعتمد خطوطُ الأنابيب لدينا على خوارزمية الاستدلال في RePaint (القسم [subsec:RepaintPipeline])، مع إضافة القدرة على توجيهِ المدخلات بصورةِ هدف. لاختبار خطوط الأنابيب، أنشأنا مجموعةَ بياناتٍ صغيرة من صورِ المشاهد وصورِ الأهداف وأقنعةٍ ثنائيةٍ مُنشأة يدويًّا تُحدِّد موقعَ الهدف داخل المشهد. تصبح هذه الثلاثة مدخلات (المشهد، والهدف، والقناع) أساسًا لخطِّ الأنابيب كما في القسم [subsec:CorePipeline].</p>

<h2 id="subsec:RepaintPipeline">خلفيّة مسار عمل RePaint</h2>
<p>من الضروري فهمُ مسار عمل RePaint أوّلًا. في البداية، يُحوِّل المرورُ الأمامي لعمليةِ الانتشار الصورةَ الابتدائية المُقنَّعة <span class="math inline">\(x_0\)</span> إلى ضوضاءَ غاوسيّةٍ بيضاء <span class="math inline">\(x_T\)</span> بإضافةِ ضوضاءَ مستقلّةٍ متزايدةِ التباين تدريجيًّا. في كل خطوةٍ زمنيّة <span class="math inline">\(t\)</span> من المرور الأمامي، تتزايد الضوضاء حتى الوصولِ إلى ضوضاءَ نقيّة عند <span class="math inline">\(t = T\)</span>.</p>
<p>في المرور الخلفي، نسعى إلى إعادة بناء الصورة الأصلية من الضوضاء الغاوسيّة. في كل خطوةٍ زمنيّة <span class="math inline">\(t\)</span>، تُمرَّر الصورةُ المُشَوَّشة إلى نموذج إزالة الضوضاء القائم على الانتشار الاحتمالي (DDPM) المشروط. يُستخلص ناتجُ الجزء المُقنَّع ويُدمَج مع المنطقة غير المُقنَّعة من المرور الأمامي المقابل، فتتمّ استعادةُ الصورة تدريجيًّا بأعلى دقّة ممكنة. كما يقدّم RePaint خطواتِ إعادةِ أخذِ العينات والقفز التي سنوضّحها في القسم [subsec:ResamplingJumping].</p>

<h2 id="subsec:CorePipeline">خطُّ الأنابيب الأساسي للاستكمال المُوجَّه بصورةِ هدف</h2>
<p>مساهمتُنا هنا هي إضافةُ القدرة على تحديد جسمِ هدف ليُعاد إدخاله في موقعٍ محدَّد داخل المشهد. صُمِّم الخطّ ليأخذ ثلاث مدخلات: صورةَ خلفيّةٍ للمشهد، صورةَ الهدف، وقناعًا ثنائيًّا يُحدِّد المنطقة المعنيّة. وعلى عكس RePaint الأصلي الذي يتعامل مع قناعٍ عشوائي فقط، يدمج نهجُنا معلوماتِ الهدف لتحسين عملية الاستكمال. خلال المرور الأمامي، نُطبِّق عمليةَ الانتشار على كلٍّ من المشهد والهدف. وعند المرور الخلفي، تُمرَّر الصورةُ المُشَوَّشة <span class="math inline">\(x_t\)</span> إلى نموذج DDPM المشروط لإنتاج <span class="math inline">\(x_{\text{repaint},t-1}\)</span>. في الوقت نفسه، نسترجع الجزء غير المُقنَّع من المشهد المُشوَّش <span class="math inline">\(x_{\text{scene},t-1}\)</span>، والهدف المُشوَّش <span class="math inline">\(x_{\text{target},t-1}\)</span> من الانتشار الأمامي المتّسق زمنيًّا. ثم نحلّ تعارُضَ القناع بين تنبّؤ النموذج ونسخةِ الهدف المُشَوَّشة عبر مزيجٍ محدّب بمعامل <span class="math inline">\(\lambda_t\)</span>:</p>
<p><span class="math display">\[
  x_{t-1}^{\text{unknown}}
  = \lambda_t\,x_{\text{repaint},t-1}
  + (1-\lambda_t)\,x_{\text{target},t-1}
  \tag{3}
\]</span></p>
<p>أخيرًا، ندمج المنطقة المعروفة من المشهد مع المزيج الجديد في المنطقة المُراد استكمالُها:</p>
<p><span class="math display">\[
  x_{t-1} 
  = m \odot x_{\text{scene},t-1}
  + (1-m)\odot x_{t-1}^{\text{unknown}}
  \tag{4}
\]</span></p>
<p>حيث <span class="math inline">\(m\)</span> هو القناع الثنائي (مع الاتفاق على أنّ <span class="math inline">\(m=1\)</span> على المنطقة المعروفة غير المُقنَّعة، و<span class="math inline">\(m=0\)</span> على المنطقة المراد استكمالها). يوضّح الشكل [fig:corepipeline] كامل العملية.</p>

<h2 id="subsec:ResamplingJumping">إعادةُ أخذِ العينات والقفز</h2>
<p>في المسار العكسي، قد تبدو الحدود بين المنطقة المُقنَّعة وغير المُقنَّعة حادّةً أو غيرَ طبيعية. وللتغلّب على ذلك، يقترح RePaint إضافةَ خطواتٍ لإعادةِ أخذِ العينات كل <span class="math inline">\(j\)</span> خطوةٍ زمنيّة، بإعادةِ إدخالِ ضوضاءَ غاوسيّة ثم تمريرِها مُجدّدًا إلى DDPM <span class="math inline">\(r\)</span> مرّات. يُتيح هذا الإجراءُ لـDDPM فرصةً لتنعيم الحدود وتوليدِ تنوّعٍ أعلى داخل القناع دون زيادةٍ في الموارد الحسابية حين <span class="math inline">\(r \le j\)</span>.</p>

<h2 id="subsec:keyHparams">بحثٌ أوّلي عن المعلمات الفائقة</h2>
<p>كما ذُكر في [subsec:CorePipeline]، يتحكّم <span class="math inline">\(\lambda_t\)</span> في وزن مساهمة تنبّؤ النموذج مقابل نسخةِ الهدف المُشوَّشة. أجرينا تجارب عبر قيم <span class="math inline">\(\lambda_t\in\{0.8,0.9,0.993,0.995,0.999,0.9999\}\)</span>، وقيم لعدد الخطوات الكلّي <span class="math inline">\([50,100,150,200,250]\)</span>، وقيمٍ للقفز وإعادةِ أخذِ العينات ضمن <span class="math inline">\([10,20,30,40]\)</span>. وجدنا أن <span class="math inline">\(\lambda_t\approx0.993\)</span> يُوازِنُ على نحوٍ أفضل بين الحفاظ على تفاصيلِ الهدف وعدمِ إظهاره مُلتصِقًا. كما حدّدنا أن <span class="math inline">\(T=200\)</span>، و<span class="math inline">\(j=r=40\)</span> تُعطي عمومًا جودةً عالية دون ضبابيّةٍ مُفرطة.</p>
<p>بالنسبة لقناع الهدف، جرّبنا طريقتين: الأولى قناعٌ دقيق يسمحُ بتفاصيلَ أفضل لكن ينتج انتقالًا حادًّا؛ والثانية قناعٌ أكثرُ تساهلًا يضمّ معلوماتٍ مُحيطة لكنه يُقلِّل الدقّة. وللتغلّب على محدودية القناع الدقيق، استكشفنا بديلَين موضّحين في القسم [subsec:MaskAlt].</p>
</section>

<section>
<h1 id="sec:Experiments">التجارب</h1>
<p>على الرغم من جودةِ التفاصيل، لاحظنا أنّ الهدف لا يتفاعلُ بما يكفي مع عناصر المشهد المحيطة (مثل أن يحجب العُشبُ بعضَ مخالبِ الكلب جزئيًّا). لذا اقترحنا تعديلاتٍ عدّة لتعزيز هذا التفاعل.</p>

<h2 id="subsec:MaskAlt">بدائلُ التقنيع</h2>
<p>أكبرُ تحدٍّ واجهناه كان الحدودَ غيرَ الطبيعية عند القناعِ الثنائي الدقيق. لذلك استكشفنا طرائقَ أكثر مرونةً للقناع تُتيح لـDDPM توليدَ انتقالاتٍ سلسة.</p>

<h3 id="قناع-المسخن-المبني-على-المسافة">قناعٌ مُتَدَرِّج قائمٌ على المسافة</h3>
<p>بدلًا من قناعٍ ثنائي، نستخدم قناعًا بقيمٍ بين 0 و1 يُحدِّد قُربَ كلّ بكسل من حدود القناع. للبكسل عند الإحداثيات <span class="math inline">\((i,j)\)</span> ومسافةِ مانهاتن إلى أقرب بكسل خارجي <span class="math inline">\(d_{i,j}\)</span>، نُعرِّف:</p>
<p><span class="math display">\[
  m_{i,j}^{\mathrm{heated}}
  = \min\left(\frac{d_{i,j}}{b},\,1\right)
  \tag{5}
\]</span></p>
<p>حيث <span class="math inline">\(b\)</span> هو نصفُ عرض المنطقة المُتدرِّجة. هذا يُعطي DDPM حريّةً أكبر لتنعيم الحدود مع المحافظة على التفاصيل داخل القناع.</p>

<h3 id="مخزن-المشهد">مخزنٌ مؤقّت للمشهد (Buffer)</h3>
<p>للمزيد من الاتّساق بين الهدف والمشهد، أضفنا حول القناع الدقيق "حلقة" عرضُها 4 بكسل، تُؤخذ من ناتج DDPM السابق بدلًا من مشهد المرور الأمامي. بذلك نسمح بانتقالٍ سلسٍ دون الاعتماد على تشابُه الخلفيات.</p>

<h2 id="subsec:lambda">جدولة <span class="math inline">\(\lambda_t\)</span> لزيادة التكامل مع RePaint</h2>
<p>لتحسين دقّةِ الحدود ودقّة التفاصيل، جرّبنا جدولةً خطيّة للقيمة <span class="math inline">\(\lambda_t\)</span> بحيث تبقى مساويةً لـ 1 للخطوات الأقل من <span class="math inline">\(pT\)</span> ثم تتناقص خطيًّا إلى 0 عند <span class="math inline">\(T\)</span>. جرّبنا <span class="math inline">\(p\in\{0.1,0.25,0.5,0.75,0.9\}\)</span> على إعدادٍ مكوَّن من <span class="math inline">\(T=100,\,j=r=40\)</span>. وجدنا أن <span class="math inline">\(p=0.5\)</span> يُحقِّق توازنًا جيّدًا بين وفاءِ الهدف والتدرّج الطبيعي للحدود، مع إبقاء مخرجاتٍ ذات صحّةٍ دلاليّة عالية.</p>

<h2 id="أوضاع-الفشل">أوضاعُ الفشل</h2>
<p>عند <span class="math inline">\(p>0.5\)</span> يزيد "إبداع" المُولِّد لكن قد يَنتج عن ذلك مخرجاتٌ غير مرغوبة أو مُتحيِّزة انعكاسًا لبيانات تدريب DDPM (مثل الميل إلى توليد كلاب). للتخفيف، يُنصَح بإنتاج أكثر من مرشَّحٍ لكل مشهد–هدف، واستخدام طرائقِ اصطفاء/تقييم مُدرَّبة على بياناتٍ أكثر تنوُّعًا.</p>

<h2 id="الأنابيب-النهائية">خطوطُ الأنابيب النهائيّة</h2>
<p>بناءً على التجارب، نُوصي بالإعداد التالي: <span class="math inline">\(T=200,\,j=r=40\)</span>، مع قناعٍ مُتدرِّج و/أو مخزنٍ مؤقّت، وجدولةٍ لـ <span class="math inline">\(\lambda_t\)</span> بحيث <span class="math inline">\(\lambda_t=1\)</span> عندما <span class="math inline">\(t\le0.5T\)</span> ثم تنخفض خطّيًا إلى الصفر بعد ذلك.</p>
</section>

<section>
<h1 id="الخلاصة-والشكر">الخلاصة والشكر</h1>

<h2 id="الخطوات-اللاحقة">الخطواتُ اللاحقة</h2>
<p>المساراتُ المستقبلية تشمل:</p>
<ul>
  <li>استكشافًا أوسعَ للقناعِ المُتدرِّج وجدولةِ لامبدا ديناميكيّة اعتمادًا على خصائص المشهد والهدف.</li>
  <li>أتمتةَ إنشاء الأقنعة عبر نماذجِ التجزئة لتوسيع الاختبارات على مجموعاتِ بياناتٍ أكبر.</li>
  <li>تطويرَ نظامٍ مُتكامل يُنفِّذ إعادةَ الاستكمال تلقائيًّا بأقلّ تدخّل من المستخدم.</li>
</ul>

<h2 id="الخلاصة">الخُلاصَة</h2>
<p>في هذه الدراسة، سعينا لتعزيز التحكُّم في عمليةِ ترميمِ الصور عبر توجيهِ النموذج بصورةِ هدفٍ محدَّدة بدلًا من التوجيهات النصّية العامة. باعتماد نهجٍ قائمٍ على الانتشار وتعديلاتٍ مختلفةٍ للقناع والجدولة، أظهرنا قدرةَ الخطّ الجديد على توليد صورٍ مُرمَّمة تبدو طبيعية وتحتفظ بالصحّة الدلاليّة مع إدراج الأجسام المرغوبة.</p>

<h2 id="الشكر-والتقدير">الشكرُ والتقدير</h2>
<p>نشكُر فريقَ مادة <span class="nodecor">CSE 493G</span> على الدعم والإرشاد، ونُقدِّر ورقةَ <span class="nodecor">RePaint</span> ومؤلِّفيها الذين كانوا مصدرَ إلهامٍ لعملِنا.</p>
</section>

</main>
</body>
</html>